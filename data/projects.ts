
import { Project, ProjectStatus, TShirtSize, ProjectCategory, ProjectWeather, TaskStatus } from '../types';

export const projects: Project[] = [
  {
    id: 'proj-demo-1',
    projectId: 'P25-001',
    title: 'Déploiement EDR',
    description: 'Déploiement de la solution CrowdStrike Falcon sur l\'ensemble du parc de serveurs et postes de travail.',
    status: ProjectStatus.NO,
    tShirtSize: TShirtSize.L,
    projectManagerMOA: 'res-demo-3',
    projectManagerMOE: 'res-demo-1',
    projectStartDate: '2025-06-01T00:00:00Z',
    projectEndDate: '2026-06-30T00:00:00Z',
    goLiveDate: '2026-05-31T00:00:00Z',
    isTop30: true,
    category: ProjectCategory.PROJECT,
    createdAt: '2025-04-01T00:00:00Z',
    updatedAt: '2025-11-01T00:00:00Z',
    initiativeId: 'init-demo-A',
    isoMeasures: ['8.7', '8.16'],
    predecessorIds: [], 
    
    // Données financières
    budgetRequested: 150000,
    budgetApproved: 120000,
    budgetCommitted: 75000,
    completedPV: 45000,
    forecastedPurchaseOrders: 40000,

    // Charges (Simplifiées Int/Ext)
    internalWorkloadRequested: 100, 
    internalWorkloadEngaged: 80,
    internalWorkloadConsumed: 57,
    externalWorkloadRequested: 50, 
    externalWorkloadEngaged: 50,
    externalWorkloadConsumed: 30,

    // Nouveaux champs
    weather: ProjectWeather.SUNNY,
    weatherDescription: "Le déploiement avance bien sur le périmètre pilote. Aucun blocage majeur.",
    strategicImpact: 5,
    riskCoverage: 5,
    effort: 3,
    priorityScore: 8.3, // (5*5)/3
    majorRiskIds: ['risk-ransomware', 'risk-insider', 'risk-availability'],
    milestones: [
        { id: 'm1', label: 'Kick-off', date: '2025-06-01T00:00:00Z', initialDate: '2025-06-01T00:00:00Z', completed: true, history: [] },
        { id: 'm2', label: 'Validation Architecture', date: '2025-07-15T00:00:00Z', initialDate: '2025-07-01T00:00:00Z', completed: true, history: [{ updatedAt: '2025-06-20T10:00:00Z', previousDate: '2025-07-01T00:00:00Z', newDate: '2025-07-15T00:00:00Z'}] },
        { id: 'm3', label: 'Fin du Pilote (500 postes)', date: '2025-10-30T00:00:00Z', initialDate: '2025-10-30T00:00:00Z', completed: true, history: [] },
        { id: 'm4', label: 'Déploiement Général', date: '2026-03-01T00:00:00Z', initialDate: '2026-01-01T00:00:00Z', completed: false, history: [{ updatedAt: '2025-09-15T14:00:00Z', previousDate: '2026-01-01T00:00:00Z', newDate: '2026-03-01T00:00:00Z'}] },
    ],
    // Structure détaillée pour le Gantt
    tasks: [
      {
        id: 't1', name: 'Phase 1 : Cadrage & Architecture', startDate: '2025-06-01T00:00:00Z', endDate: '2025-07-15T00:00:00Z', progress: 100, status: TaskStatus.DONE,
        children: [
          { id: 't1-1', name: 'Ateliers de cadrage', startDate: '2025-06-01T00:00:00Z', endDate: '2025-06-15T00:00:00Z', progress: 100, status: TaskStatus.DONE, assigneeId: 'res-demo-1' },
          { id: 't1-2', name: 'Définition architecture technique', startDate: '2025-06-16T00:00:00Z', endDate: '2025-06-30T00:00:00Z', progress: 100, status: TaskStatus.DONE, assigneeId: 'res-demo-4', dependencyIds: ['t1-1'] },
          { id: 't1-3', name: 'Validation DAT', startDate: '2025-07-01T00:00:00Z', endDate: '2025-07-15T00:00:00Z', progress: 100, status: TaskStatus.DONE, assigneeId: 'res-demo-3', dependencyIds: ['t1-2'] },
          { id: 't1-m', name: 'Jalon : Architecture Validée', startDate: '2025-07-15T00:00:00Z', endDate: '2025-07-15T00:00:00Z', progress: 100, status: TaskStatus.DONE, dependencyIds: ['t1-3'] },
        ]
      },
      {
        id: 't2', name: 'Phase 2 : Pilote', startDate: '2025-07-16T00:00:00Z', endDate: '2025-10-30T00:00:00Z', progress: 100, status: TaskStatus.DONE, dependencyIds: ['t1'],
        children: [
          { id: 't2-1', name: 'Configuration Tenant', startDate: '2025-07-16T00:00:00Z', endDate: '2025-07-30T00:00:00Z', progress: 100, status: TaskStatus.DONE, assigneeId: 'res-demo-1' },
          { id: 't2-2', name: 'Déploiement groupe IT', startDate: '2025-08-01T00:00:00Z', endDate: '2025-08-30T00:00:00Z', progress: 100, status: TaskStatus.DONE, assigneeId: 'res-demo-4', dependencyIds: ['t2-1'] },
          { id: 't2-3', name: 'Déploiement périmètre Pilote (500)', startDate: '2025-09-01T00:00:00Z', endDate: '2025-10-30T00:00:00Z', progress: 100, status: TaskStatus.DONE, assigneeId: 'res-demo-6', dependencyIds: ['t2-2'] },
          { id: 't2-m', name: 'Jalon : Go / NoGo Généralisation', startDate: '2025-10-30T00:00:00Z', endDate: '2025-10-30T00:00:00Z', progress: 100, status: TaskStatus.DONE, dependencyIds: ['t2-3'] },
        ]
      },
      {
        id: 't3', name: 'Phase 3 : Déploiement Général', startDate: '2025-11-01T00:00:00Z', endDate: '2026-03-01T00:00:00Z', progress: 15, status: TaskStatus.IN_PROGRESS, dependencyIds: ['t2'],
        children: [
          { id: 't3-1', name: 'Vague 1 : Siège (1500)', startDate: '2025-11-01T00:00:00Z', endDate: '2025-12-31T00:00:00Z', progress: 40, status: TaskStatus.IN_PROGRESS, assigneeId: 'res-demo-6' },
          { id: 't3-2', name: 'Vague 2 : Filiales France', startDate: '2026-01-01T00:00:00Z', endDate: '2026-02-15T00:00:00Z', progress: 0, status: TaskStatus.TODO, assigneeId: 'res-demo-6', dependencyIds: ['t3-1'] },
          { id: 't3-3', name: 'Vague 3 : International', startDate: '2026-02-01T00:00:00Z', endDate: '2026-03-01T00:00:00Z', progress: 0, status: TaskStatus.TODO, assigneeId: 'res-demo-4', dependencyIds: ['t3-2'] },
        ]
      },
      {
        id: 't4', name: 'Phase 4 : RUN & MCO', startDate: '2026-03-01T00:00:00Z', endDate: '2026-06-30T00:00:00Z', progress: 0, status: TaskStatus.TODO, dependencyIds: ['t3'],
        children: [
          { id: 't4-1', name: 'Formation équipe N1', startDate: '2026-03-01T00:00:00Z', endDate: '2026-03-15T00:00:00Z', progress: 0, status: TaskStatus.TODO, assigneeId: 'res-demo-1' },
          { id: 't4-2', name: 'Transfert de compétences', startDate: '2026-03-15T00:00:00Z', endDate: '2026-04-15T00:00:00Z', progress: 0, status: TaskStatus.TODO, assigneeId: 'res-demo-1', dependencyIds: ['t4-1'] },
        ]
      }
    ],
    // Simulation d'historique pour la Courbe en S
    fdrHistory: [
        { week: '26', year: '2025', type: 'budget', importDate: '2025-06-30T12:00:00Z', data: { budgetCommitted: 10000, completedPV: 0 } },
        { week: '30', year: '2025', type: 'budget', importDate: '2025-07-28T12:00:00Z', data: { budgetCommitted: 25000, completedPV: 5000 } },
        { week: '35', year: '2025', type: 'budget', importDate: '2025-09-01T12:00:00Z', data: { budgetCommitted: 40000, completedPV: 15000 } },
        { week: '39', year: '2025', type: 'budget', importDate: '2025-09-29T12:00:00Z', data: { budgetCommitted: 60000, completedPV: 25000 } },
        { week: '44', year: '2025', type: 'budget', importDate: '2025-10-31T12:00:00Z', data: { budgetCommitted: 75000, completedPV: 45000 } },
    ]
  },
  {
    id: 'proj-demo-2',
    projectId: 'P24-012',
    title: 'Migration Cloud Azure',
    description: 'Migration de l\'infrastructure on-premise vers des services IaaS et PaaS sur Microsoft Azure.',
    status: ProjectStatus.NF,
    tShirtSize: TShirtSize.XL,
    projectManagerMOA: 'res-demo-5',
    projectManagerMOE: 'res-demo-4',
    projectStartDate: '2024-01-15T00:00:00Z',
    projectEndDate: '2025-07-30T00:00:00Z',
    goLiveDate: '2025-06-30T00:00:00Z',
    isTop30: true,
    category: ProjectCategory.PROJECT,
    createdAt: '2023-11-01T00:00:00Z',
    updatedAt: '2025-08-10T00:00:00Z',
    initiativeId: 'init-demo-B',
    isoMeasures: ['5.23', '7.11'],
    budgetRequested: 250000,
    budgetApproved: 250000,
    budgetCommitted: 245000,
    completedPV: 245000,
    
    internalWorkloadConsumed: 200,
    internalWorkloadEngaged: 200,
    externalWorkloadConsumed: 350,
    externalWorkloadEngaged: 350,
    
    weather: ProjectWeather.SUNNY,
    weatherDescription: "Projet terminé avec succès.",
    majorRiskIds: ['risk-availability'],
    strategicImpact: 5,
    riskCoverage: 3,
    effort: 5,
    priorityScore: 3.0,
    milestones: [],
  },
   {
    id: 'proj-demo-3',
    projectId: 'P25-003',
    title: 'Outil de Data Classification',
    description: 'Mise en place d\'un outil pour classifier et étiqueter automatiquement les données sensibles.',
    status: ProjectStatus.NT,
    tShirtSize: TShirtSize.M,
    projectManagerMOA: 'res-demo-3',
    projectManagerMOE: 'res-demo-2',
    projectStartDate: '2025-09-01T00:00:00Z',
    projectEndDate: '2026-04-01T00:00:00Z',
    isTop30: false,
    category: ProjectCategory.PROJECT,
    createdAt: '2025-07-01T00:00:00Z',
    updatedAt: '2025-10-15T00:00:00Z',
    initiativeId: 'init-demo-C',
    isoMeasures: ['5.12', '5.13', '8.11'],
    budgetRequested: 80000,
    budgetApproved: 60000,
    predecessorIds: [], // Dépendance supprimée
    
    weather: ProjectWeather.CLOUDY,
    weatherDescription: "Retard sur la livraison de l'éditeur. POC décalé de 2 semaines.",
    majorRiskIds: ['risk-leak', 'risk-compliance'],
    strategicImpact: 4,
    riskCoverage: 4,
    effort: 3,
    priorityScore: 5.3,
    milestones: [
        { id: 'm3-1', label: 'Choix de la solution', date: '2025-09-15T00:00:00Z', initialDate: '2025-09-15T00:00:00Z', completed: true },
        { id: 'm3-2', label: 'Lancement POC', date: '2025-11-15T00:00:00Z', initialDate: '2025-11-01T00:00:00Z', completed: false, dependencyIds: ['m3-1'] },
    ]
  },
  {
    id: 'proj-demo-4',
    projectId: 'P26-001',
    title: 'Refonte de l\'IAM',
    description: 'Remplacer la solution IAM actuelle par une nouvelle plateforme supportant le Zero Trust.',
    status: ProjectStatus.IDENTIFIED,
    tShirtSize: TShirtSize.L,
    projectStartDate: '2026-01-15T00:00:00Z',
    projectEndDate: '2027-01-15T00:00:00Z',
    isTop30: true,
    category: ProjectCategory.OPPORTUNITY,
    createdAt: '2025-10-01T00:00:00Z',
    updatedAt: '2025-10-01T00:00:00Z',
    initiativeId: 'init-demo-D',
    isoMeasures: ['5.16', '5.17', '5.18', '8.5'],
    predecessorIds: [], // Dépendances supprimées
    
    strategicImpact: 5,
    riskCoverage: 5,
    effort: 5,
    priorityScore: 5.0,
    majorRiskIds: ['risk-insider', 'risk-fraud'],
    milestones: [],
  },
  {
    id: 'proj-demo-5',
    projectId: 'P25-005',
    title: 'Audit de conformité RGPD',
    description: 'Audit annuel pour vérifier la conformité des traitements de données personnelles avec le RGPD.',
    status: ProjectStatus.NO,
    tShirtSize: TShirtSize.S,
    projectManagerMOA: 'res-demo-3',
    projectStartDate: '2025-10-01T00:00:00Z',
    projectEndDate: '2025-12-20T00:00:00Z',
    isTop30: false,
    category: ProjectCategory.MCO,
    createdAt: '2025-09-01T00:00:00Z',
    updatedAt: '2025-11-01T00:00:00Z',
    initiativeId: 'init-demo-C',
    isoMeasures: ['5.34'],
    budgetApproved: 30000,
    budgetCommitted: 35000, // Budget dépassé
    completedPV: 15000,
    
    internalWorkloadEngaged: 20,
    internalWorkloadConsumed: 25, // Consommé > Engagé
    
    weather: ProjectWeather.STORM,
    weatherDescription: "Budget dépassé suite à l'extension du périmètre d'audit demandé par le DPO.",
    majorRiskIds: ['risk-compliance'],
    strategicImpact: 3,
    riskCoverage: 2,
    effort: 1,
    priorityScore: 30.0,
    milestones: [],
  },
  {
    id: 'proj-demo-6',
    projectId: 'P25-020',
    title: 'Durcissement Active Directory',
    description: 'Plan de remédiation suite à l\'audit AD (Tiering model, comptes de service, administration sécurisée).',
    status: ProjectStatus.NO,
    tShirtSize: TShirtSize.M,
    projectManagerMOE: 'res-demo-4',
    projectStartDate: '2025-05-01T00:00:00Z',
    projectEndDate: '2026-03-01T00:00:00Z',
    isTop30: true,
    category: ProjectCategory.PROJECT,
    createdAt: '2025-04-01T00:00:00Z',
    updatedAt: '2025-11-01T00:00:00Z',
    initiativeId: 'init-demo-D',
    isoMeasures: ['8.2', '8.5', '5.15'],
    budgetApproved: 80000,
    budgetCommitted: 40000,
    
    weather: ProjectWeather.RAINY,
    weatherDescription: "Difficultés techniques rencontrées sur le Tier 0. Manque d'expertise interne disponible.",
    majorRiskIds: ['risk-ransomware', 'risk-insider', 'risk-supplychain'],
    strategicImpact: 5,
    riskCoverage: 5,
    effort: 4,
    priorityScore: 6.3,
    milestones: [],
  },
  {
    id: 'proj-demo-7',
    projectId: 'P25-030',
    title: 'Mise en place SOC Hybride 24/7',
    description: 'Externalisation de la surveillance nocturne et week-end vers un MSSP.',
    status: ProjectStatus.NO,
    tShirtSize: TShirtSize.L,
    projectManagerMOE: 'res-demo-1',
    projectStartDate: '2025-02-01T00:00:00Z',
    projectEndDate: '2025-12-31T00:00:00Z',
    isTop30: true,
    category: ProjectCategory.PROJECT,
    createdAt: '2025-01-15T00:00:00Z',
    updatedAt: '2025-11-05T00:00:00Z',
    initiativeId: 'init-demo-A',
    isoMeasures: ['8.16', '5.26'],
    budgetApproved: 300000,
    budgetCommitted: 280000,
    predecessorIds: [], // Dépendance supprimée
    
    weather: ProjectWeather.SUNNY,
    weatherDescription: "Contrat signé avec le MSSP. Phase de transition en cours.",
    majorRiskIds: ['risk-ransomware', 'risk-leak'],
    strategicImpact: 5,
    riskCoverage: 5,
    effort: 3,
    priorityScore: 8.3,
    milestones: [],
  },
   {
    id: 'proj-demo-8',
    projectId: 'P25-040',
    title: 'Campagne Phishing S2 2025',
    description: 'Exercice semestriel de simulation de phishing.',
    status: ProjectStatus.NO,
    tShirtSize: TShirtSize.XS,
    projectManagerMOA: 'res-demo-3',
    projectStartDate: '2025-11-01T00:00:00Z',
    projectEndDate: '2025-11-30T00:00:00Z',
    isTop30: false,
    category: ProjectCategory.ACTIVITY,
    createdAt: '2025-10-01T00:00:00Z',
    updatedAt: '2025-11-10T00:00:00Z',
    initiativeId: 'init-demo-C',
    isoMeasures: ['6.3'],
    budgetApproved: 5000,
    budgetCommitted: 5000,
    
    weather: ProjectWeather.SUNNY,
    weatherDescription: "Campagne prête à être lancée.",
    majorRiskIds: ['risk-fraud'],
    strategicImpact: 3,
    riskCoverage: 3,
    effort: 1,
    priorityScore: 45.0, // Petit effort, bon impact
    milestones: [],
  }
];
